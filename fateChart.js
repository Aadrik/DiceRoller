// Fate Chart data
const fateChart = {
  Certain: {
    1: [10, 50, 91],
    2: [13, 65, 94],
    3: [15, 75, 96],
    4: [17, 85, 98],
    5: [18, 90, 99],
    6: [19, 95, 100],
    7: [20, 99, "x"],
    8: [20, 99, "x"],
    9: [20, 99, "x"],
  },
  "Nearly Certain": {
    1: [7, 35, 88],
    2: [10, 50, 91],
    3: [13, 65, 94],
    4: [15, 75, 96],
    5: [17, 85, 98],
    6: [18, 90, 99],
    7: [19, 95, 100],
    8: [20, 99, "x"],
    9: [20, 99, "x"],
  },
  "Very Likely": {
    1: [5, 25, 86],
    2: [7, 35, 88],
    3: [10, 50, 91],
    4: [13, 65, 94],
    5: [15, 75, 96],
    6: [17, 85, 98],
    7: [18, 90, 99],
    8: [19, 95, 100],
    9: [20, 99, "x"],
  },
  Likely: {
    1: [3, 15, 84],
    2: [5, 25, 86],
    3: [7, 35, 88],
    4: [10, 50, 91],
    5: [13, 65, 94],
    6: [15, 75, 96],
    7: [17, 85, 98],
    8: [18, 90, 99],
    9: [19, 95, 100],
  },
  "50/50": {
    1: [2, 10, 83],
    2: [3, 15, 84],
    3: [5, 25, 86],
    4: [7, 35, 88],
    5: [10, 50, 91],
    6: [13, 65, 94],
    7: [15, 75, 96],
    8: [17, 85, 98],
    9: [18, 90, 99],
  },
  Unlikely: {
    1: [1, 5, 82],
    2: [2, 10, 83],
    3: [3, 15, 84],
    4: [5, 25, 86],
    5: [7, 35, 88],
    6: [10, 50, 91],
    7: [13, 65, 94],
    8: [15, 75, 96],
    9: [17, 85, 98],
  },
  "Very Unlikely": {
    1: ["x", 1, 81],
    2: [1, 5, 82],
    3: [2, 10, 83],
    4: [3, 15, 84],
    5: [5, 25, 86],
    6: [7, 35, 88],
    7: [10, 50, 91],
    8: [13, 65, 94],
    9: [15, 75, 96],
  },
  "Nearly Impossible": {
    1: ["x", 1, 81],
    2: ["x", 1, 81],
    3: [1, 5, 82],
    4: [2, 10, 83],
    5: [3, 15, 84],
    6: [5, 25, 86],
    7: [7, 35, 88],
    8: [10, 50, 91],
    9: [13, 65, 94],
  },
  Impossible: {
    1: ["x", 1, 81],
    2: ["x", 1, 81],
    3: ["x", 1, 81],
    4: [1, 5, 82],
    5: [2, 10, 83],
    6: [3, 15, 84],
    7: [5, 25, 86],
    8: [7, 35, 88],
    9: [10, 50, 91],
  },
};

// Core function
function interpretFateRoll(roll, chaos, odds) {
  const thresholds = fateChart[odds]?.[chaos];
  if (!thresholds || thresholds.includes("x")) return "Impossible";

  const [exYes, yes, exNo] = thresholds;
  if (roll <= exYes) return "Exceptional Yes";
  if (roll <= yes) return "Yes";
  if (roll >= exNo) return "Exceptional No";
  return "No";
}

const fateCategories = Object.keys(fateChart);

// Export for use in your app
export { fateCategories, interpretFateRoll };
